{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Data Package",
  "description": "Data Package",
  "type": "object",
  "required": [
    "resources"
  ],
  "properties": {
    "$schema": {
      "default": "https://datapackage.org/profiles/1.0/datapackage.json",
      "propertyOrder": 10,
      "title": "Profile",
      "description": "The profile of this descriptor.",
      "type": "string"
    },
    "name": {
      "propertyOrder": 20,
      "title": "Name",
      "description": "An identifier string.",
      "type": "string",
      "context": "This is ideally a url-usable and human-readable name. Name `SHOULD` be invariant, meaning it `SHOULD NOT` change when its parent descriptor is updated.",
      "examples": [
        "{\n  \"name\": \"my-nice-name\"\n}\n"
      ]
    },
    "id": {
      "propertyOrder": 30,
      "title": "ID",
      "description": "A property reserved for globally unique identifiers. Examples of identifiers that are unique include UUIDs and DOIs.",
      "context": "A common usage pattern for Data Packages is as a packaging format within the bounds of a system or platform. In these cases, a unique identifier for a package is desired for common data handling workflows, such as updating an existing package. While at the level of the specification, global uniqueness cannot be validated, consumers using the `id` property `MUST` ensure identifiers are globally unique.",
      "type": "string",
      "examples": [
        "{\n  \"id\": \"b03ec84-77fd-4270-813b-0c698943f7ce\"\n}\n",
        "{\n  \"id\": \"http://dx.doi.org/10.1594/PANGAEA.726855\"\n}\n"
      ]
    },
    "title": {
      "propertyOrder": 40,
      "title": "Title",
      "description": "A human-readable title.",
      "type": "string",
      "examples": [
        "{\n  \"title\": \"My Package Title\"\n}\n"
      ]
    },
    "description": {
      "propertyOrder": 50,
      "format": "textarea",
      "title": "Description",
      "description": "A text description. Markdown is encouraged.",
      "type": "string",
      "examples": [
        "{\n  \"description\": \"# My Package description\\nAll about my package.\"\n}\n"
      ]
    },
    "homepage": {
      "propertyOrder": 60,
      "title": "Home Page",
      "description": "The home on the web that is related to this resource.",
      "type": "string",
      "format": "uri",
      "examples": [
        "{\n  \"homepage\": \"http://example.com/\"\n}\n"
      ]
    },
    "version": {
      "propertyOrder": 65,
      "title": "Version",
      "description": "A unique version number for this descriptor.",
      "type": "string",
      "examples": [
        "{\n  \"version\": \"0.0.1\"\n}\n",
        "{\n  \"version\": \"1.0.1-beta\"\n}\n"
      ]
    },
    "created": {
      "propertyOrder": 70,
      "title": "Created",
      "description": "The datetime on which this descriptor was created.",
      "context": "The datetime must conform to the string formats for datetime as described in [RFC3339](https://tools.ietf.org/html/rfc3339#section-5.6)",
      "type": "string",
      "format": "date-time",
      "examples": [
        "{\n  \"created\": \"1985-04-12T23:20:50.52Z\"\n}\n"
      ]
    },
    "contributors": {
      "propertyOrder": 80,
      "title": "Contributors",
      "description": "The contributors to this descriptor.",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Contributor",
        "description": "A contributor to this descriptor.",
        "properties": {
          "title": {
            "title": "Title",
            "description": "A human-readable title.",
            "type": "string",
            "examples": [
              "{\n  \"title\": \"My Package Title\"\n}\n"
            ]
          },
          "path": {
            "title": "Path",
            "description": "A fully qualified URL, or a POSIX file path.",
            "type": "string",
            "pattern": "^((?=[^./~])(?!file:)((?!\\/\\.\\.\\/)(?!\\\\)(?!:\\/\\/).)*|(http|ftp)s?:\\/\\/.*)$",
            "examples": [
              "{\n  \"path\": \"file.csv\"\n}\n",
              "{\n  \"path\": \"http://example.com/file.csv\"\n}\n"
            ],
            "context": "Implementations need to negotiate the type of path provided, and dereference the data accordingly."
          },
          "email": {
            "title": "Email",
            "description": "An email address.",
            "type": "string",
            "format": "email",
            "examples": [
              "{\n  \"email\": \"example@example.com\"\n}\n"
            ]
          },
          "givenName": {
            "type": "string"
          },
          "familyName": {
            "type": "string"
          },
          "organization": {
            "title": "Organization",
            "description": "An organizational affiliation for this contributor.",
            "type": "string"
          },
          "roles": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string"
            }
          }
        },
        "minProperties": 1,
        "context": "Use of this property does not imply that the person was the original creator of, or a contributor to, the data in the descriptor, but refers to the composition of the descriptor itself."
      },
      "examples": [
        "{\n  \"contributors\": [\n    {\n      \"title\": \"Joe Bloggs\"\n    }\n  ]\n}\n",
        "{\n  \"contributors\": [\n    {\n      \"title\": \"Joe Bloggs\",\n      \"email\": \"joe@example.com\",\n      \"role\": \"author\"\n    }\n  ]\n}\n"
      ]
    },
    "keywords": {
      "propertyOrder": 90,
      "title": "Keywords",
      "description": "A list of keywords that describe this descriptor.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string"
      },
      "examples": [
        "{\n  \"keywords\": [\n    \"data\",\n    \"fiscal\",\n    \"transparency\"\n  ]\n}\n"
      ]
    },
    "image": {
      "propertyOrder": 100,
      "title": "Image",
      "description": "A image to represent this package.",
      "type": "string",
      "examples": [
        "{\n  \"image\": \"http://example.com/image.jpg\"\n}\n",
        "{\n  \"image\": \"relative/to/image.jpg\"\n}\n"
      ]
    },
    "licenses": {
      "propertyOrder": 110,
      "title": "Licenses",
      "description": "The license(s) under which this package is published.",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "License",
        "description": "A license for this descriptor.",
        "type": "object",
        "anyOf": [
          {
            "required": [
              "name"
            ]
          },
          {
            "required": [
              "path"
            ]
          }
        ],
        "properties": {
          "name": {
            "title": "Open Definition license identifier",
            "description": "MUST be an Open Definition license identifier, see http://licenses.opendefinition.org/",
            "type": "string",
            "pattern": "^([-a-zA-Z0-9._])+$"
          },
          "path": {
            "title": "Path",
            "description": "A fully qualified URL, or a POSIX file path.",
            "type": "string",
            "pattern": "^((?=[^./~])(?!file:)((?!\\/\\.\\.\\/)(?!\\\\)(?!:\\/\\/).)*|(http|ftp)s?:\\/\\/.*)$",
            "examples": [
              "{\n  \"path\": \"file.csv\"\n}\n",
              "{\n  \"path\": \"http://example.com/file.csv\"\n}\n"
            ],
            "context": "Implementations need to negotiate the type of path provided, and dereference the data accordingly."
          },
          "title": {
            "title": "Title",
            "description": "A human-readable title.",
            "type": "string",
            "examples": [
              "{\n  \"title\": \"My Package Title\"\n}\n"
            ]
          }
        },
        "context": "Use of this property does not imply that the person was the original creator of, or a contributor to, the data in the descriptor, but refers to the composition of the descriptor itself."
      },
      "context": "This property is not legally binding and does not guarantee that the package is licensed under the terms defined herein.",
      "examples": [
        "{\n  \"licenses\": [\n    {\n      \"name\": \"odc-pddl-1.0\",\n      \"path\": \"http://opendatacommons.org/licenses/pddl/\",\n      \"title\": \"Open Data Commons Public Domain Dedication and License v1.0\"\n    }\n  ]\n}\n"
      ]
    },
    "resources": {
      "propertyOrder": 120,
      "title": "Data Resources",
      "description": "An `array` of Data Resource objects, each compliant with the [Data Resource](/data-resource/) specification.",
      "type": "array",
      "minItems": 1,
      "items": {
        "allOf": [
          "dataResourceWithoutSchema",
          "schemaProperty"
        ]
      },
      "examples": [
        "{\n  \"resources\": [\n    {\n      \"name\": \"my-data\",\n      \"data\": [\n        \"data.csv\"\n      ],\n      \"mediatype\": \"text/csv\"\n    }\n  ]\n}\n"
      ]
    },
    "sources": {
      "propertyOrder": 200,
      "options": {
        "hidden": true
      },
      "title": "Sources",
      "description": "The raw sources for this resource.",
      "type": "array",
      "minItems": 0,
      "items": {
        "title": "Source",
        "description": "A source file.",
        "type": "object",
        "minProperties": 1,
        "properties": {
          "title": {
            "title": "Title",
            "description": "A human-readable title.",
            "type": "string",
            "examples": [
              "{\n  \"title\": \"My Package Title\"\n}\n"
            ]
          },
          "path": {
            "title": "Path",
            "description": "A fully qualified URL, or a POSIX file path.",
            "type": "string",
            "pattern": "^((?=[^./~])(?!file:)((?!\\/\\.\\.\\/)(?!\\\\)(?!:\\/\\/).)*|(http|ftp)s?:\\/\\/.*)$",
            "examples": [
              "{\n  \"path\": \"file.csv\"\n}\n",
              "{\n  \"path\": \"http://example.com/file.csv\"\n}\n"
            ],
            "context": "Implementations need to negotiate the type of path provided, and dereference the data accordingly."
          },
          "email": {
            "title": "Email",
            "description": "An email address.",
            "type": "string",
            "format": "email",
            "examples": [
              "{\n  \"email\": \"example@example.com\"\n}\n"
            ]
          },
          "version": {
            "type": "string"
          }
        }
      },
      "examples": [
        "{\n  \"sources\": [\n    {\n      \"title\": \"World Bank and OECD\",\n      \"path\": \"http://data.worldbank.org/indicator/NY.GDP.MKTP.CD\"\n    }\n  ]\n}\n"
      ]
    }
  }
}